{"version":3,"sources":["App.tsx","reportWebVitals.js","index.js"],"names":["classes","DEVNULL","pairs","App","props","state","results","newPairs","map","tuple","a","one","two","winner","fetch","mode","res","text","resBody","splitted","split","oneHere","match","parseInt","length","twoHere","console","log","stack","name","votes","className","Promise","all","then","setState","Table","striped","bordered","variant","responsive","this","result","icon","faCheckCircle","toFixed","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3848246.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport { Col, Container, Row, Table } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowRight, faCheckCircle, faTicketAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nimport axios from \"axios\";\n\nconst classes: { [key: string]: string } = {\n  \"Bakerloo\": \"bakerloo\",\n  \"Northern\": \"northern\",\n  \"Jubilee\": \"jubilee\",\n  \"TfL Rail\": \"tflrail\",\n  \"Central\": \"central\",\n  \"District\": \"district\",\n  \"Circle\": \"circle\",\n  \"Thames Link\": \"thameslink\"\n}\n\nconst DEVNULL = \"https://devnull-as-a-service.com/dev/null\";\n\nconst pairs = [\n  [\n    \"Bakerloo\",\n    \"Northern\",\n    \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1320637628518223872\"\n  ],\n  [\n    \"Jubilee\",\n    \"TfL Rail\",\n    \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1320637979858247680\"\n  ],\n  [\n    \"Central\",\n    \"District\",\n    DEVNULL\n  ],\n  [\n    \"Circle\",\n    \"Thames Link\",\n    DEVNULL\n  ]\n]\n\ninterface StateInfo {\n  one: {\n    name: string;\n    votes: number;\n    className: string;\n  };\n  two: {\n    name: string;\n    votes: number;\n    className: string;\n  };\n  winner: number;\n}\n\nclass App extends Component<any, { results: StateInfo[] }> {\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      results: []\n    }\n  }\n\n  componentDidMount() {\n    const newPairs: Promise<StateInfo>[] = pairs.map(async (tuple): Promise<StateInfo> => {\n      let one: number = 0;\n      let two: number = 0;\n      let winner: number = 0;\n      try {\n        if (tuple[2] !== DEVNULL) {\n          // Can get it\n          const res = await fetch(tuple[2], { mode: \"no-cors\" });\n\n          const resBody = await res.text();\n          // Assume pairs in correct order\n          const splitted = resBody.split(\"\\n\");\n          const oneHere = splitted[0].match(/^\\d+|\\d+\\b|\\d+(?=\\w)/g) || [\"0\"];\n          one = parseInt(oneHere[0], 10);\n          if (oneHere.length > 1 && oneHere[1] === \"1\") {\n            winner = 1;\n          }\n\n          const twoHere = splitted[1].match(/^\\d+|\\d+\\b|\\d+(?=\\w)/g) || [\"0\"];\n          two = parseInt(twoHere[0], 10);\n          if (twoHere.length > 1 && twoHere[1] === \"1\") {\n            winner = 1;\n          }\n\n        }\n      } catch (err) {\n        console.log(err.stack);\n      } finally {\n        return {\n          one: {\n            name: tuple[0],\n            votes: one,\n            className: classes[tuple[0]]\n          },\n          two: {\n            name: tuple[1],\n            votes: two,\n            className: classes[tuple[1]]\n          },\n          winner,\n        }\n      }\n    });\n\n    Promise.all(newPairs).then((results) => this.setState({\n      results,\n    }));\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Tube Lines World Cup:</h1>\n        <Table striped bordered variant=\"dark\" responsive>\n          <thead>\n            <tr>\n              <th>Line 1</th>\n              <th>Votes</th>\n              <th>%</th>\n              <th>Line 2</th>\n              <th>Votes</th>\n              <th>%</th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              this.state.results.map((result) => {\n                return (\n                  <tr>\n                    <td className={result.one.className}>{result.one.name} { result.winner === 1 ? <FontAwesomeIcon icon={faCheckCircle}/> : \"\" }</td>\n                    <td>{result.one.votes}</td>\n                    <td>{((result.one.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(1)}%</td>\n                    <td className={result.two.className}>{result.two.name} {result.winner === 2 ? <FontAwesomeIcon icon={faCheckCircle} /> : \"\"}</td>\n                    <td>{result.two.votes}</td>\n                    <td>{((result.two.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(1)}%</td>\n                  </tr>\n                )\n              })\n            }\n          </tbody>\n        </Table>\n        {/*<header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n  </header>*/}\n      </div>\n    );\n  }\n}\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}