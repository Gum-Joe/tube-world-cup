(this["webpackJsonptube-world-cup"]=this["webpackJsonptube-world-cup"]||[]).push([[0],{23:function(e,t,s){},25:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(2),r=s.n(c),a=s(10),o=s.n(a),i=(s(23),s(6)),l=s.n(i),h=s(11),u=s(12),d=s(13),j=s(17),b=s(16),p=(s(25),s(34)),w=s(7),v=s(9),m={Bakerloo:"bakerloo",Northern:"northern",Jubilee:"jubilee","TfL Rail":"tflrail",Central:"central",District:"district",Circle:"circle","Thames Link":"thameslink"},x="https://gentle-wildflower-0e5e.kishansambhi.workers.dev/?https://twitter.www.statshelix.com",f=[["Bakerloo","Northern",x+"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1320637628518223872"],["Jubilee","TfL Rail",x+"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1320637979858247680"],["Central","District",x+"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1321001660479639552"],["Circle","Thames Link",x+"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1321002110801108993"]],O=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).state={results:[]},n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.updateResults();var e=this.updateResults.bind(this);setInterval((function(){return e()}),15e3)}},{key:"updateResults",value:function(){var e=this,t=f.map(function(){var e=Object(h.a)(l.a.mark((function e(t){var s,n,c,r,a,o,i,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=0,n=0,c=0,e.prev=3,"https://devnull-as-a-service.com/dev/null"===t[2]){e.next=20;break}return e.next=7,fetch(t[2]);case 7:return r=e.sent,e.next=10,r.text();case 10:a=e.sent,console.log(a),console.log(r.status),o=a.split("\n"),i=o[0].match(/^\d+|\d+\b|\d+(?=\w)/g)||["0"],s=parseInt(i[0],10),i.length>1&&"1"===i[1]&&(c=1),h=o[1].match(/^\d+|\d+\b|\d+(?=\w)/g)||["0"],n=parseInt(h[0],10),h.length>1&&"1"===h[1]&&(c=2);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),console.log(e.t0.stack);case 25:return e.prev=25,e.abrupt("return",{one:{name:t[0],votes:s,className:m[t[0]]},two:{name:t[1],votes:n,className:m[t[1]]},winner:c});case 28:case"end":return e.stop()}}),e,null,[[3,22,25,28]])})));return function(t){return e.apply(this,arguments)}}());Promise.all(t).then((function(t){return e.setState({results:t})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("h1",{children:"Tube Lines World Cup:"}),Object(n.jsx)("h5",{children:"Updated every 15 secs"})]}),Object(n.jsx)("h3",{children:"Knockout stage games:"}),Object(n.jsxs)(p.a,{striped:!0,bordered:!0,responsive:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Line 1"}),Object(n.jsx)("th",{children:"Votes"}),Object(n.jsx)("th",{children:"%"}),Object(n.jsx)("th",{children:"Line 2"}),Object(n.jsx)("th",{children:"Votes"}),Object(n.jsx)("th",{children:"%"})]})}),Object(n.jsx)("tbody",{children:this.state.results.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{className:e.one.className,children:[e.one.name," ",1===e.winner?Object(n.jsx)(w.a,{icon:v.a}):""]}),Object(n.jsx)("td",{children:e.one.votes}),Object(n.jsxs)("td",{style:{backgroundSize:"100% ".concat((e.one.votes/(e.one.votes+e.two.votes)*100||0).toFixed(1),"%")},className:e.one.className,children:[(e.one.votes/(e.one.votes+e.two.votes)*100||0).toFixed(1),"%"]}),Object(n.jsxs)("td",{className:e.two.className,children:[e.two.name," ",2===e.winner?Object(n.jsx)(w.a,{icon:v.a}):""]}),Object(n.jsx)("td",{children:e.two.votes}),Object(n.jsxs)("td",{style:{backgroundSize:"100% ".concat((e.two.votes/(e.one.votes+e.two.votes)*100||0).toFixed(1),"%")},className:e.two.className,children:[(e.two.votes/(e.one.votes+e.two.votes)*100||0).toFixed(1),"%"]})]})}))})]})]})}}]),s}(c.Component),g=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),n(e),c(e),r(e),a(e)}))};s(31);o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),g()}},[[32,1,2]]]);
//# sourceMappingURL=main.5b82ebc5.chunk.js.map