{"version":3,"sources":["constants.tsx","ResultsTable.tsx","Graphs.tsx","ResultsTableCompact.tsx","gaAnlalystics.ts","RankTable.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["getJSONLinkByYear","year","results","process","history","classes","tweetNameMap","colours","BLANK_RESULT","gameName","one","name","votes","className","two","winner","link","undefined","today","venue","ResultsTable","props","Table","striped","bordered","responsive","allowVenues","map","result","href","icon","faCheckCircle","style","toFixed","VictoryZoomVoronoiContainer","createContainer","Graphs","filter","isToday","historydata","oneVotes","resultHere","x","timestamp","y","twoVotes","difference","Col","sm","md","lg","horizontal","domainPadding","categories","height","width","long","padding","top","bottom","right","left","dependentAxis","label","fixLabelOverlap","axis","stroke","axisLabel","fontSize","tickLabels","grid","ticks","data","fill","datum","xName","labels","alignment","labelComponent","textAnchor","dx","strokeWidth","theme","VictoryTheme","material","containerComponent","voronoiDimension","radius","cornerRadius","flyoutStyle","close","parent","border","length","ResultsTableCompact","PERCENT_DP","Container","Row","GA_DISABLE_COOKIE_STR","gaSetState","state","document","cookie","window","RankingTableEntry","index","other","actualRank","FinalRanking","console","log","final","playoff","venueMap","App","resultsKnockout","resultsQFinals","resultsHistories","pairedPastGames","pairedPastGamesQFinals","resultsSemiFinals","resultsFinals","resultsPlayoff","resultsLoosers","totalVotes","meanVotes","fetch","this","json","setState","filtered","forEach","push","filteredQFinals","setGaAnalytics","updateResults","updateHistory","bind","resJSON","gameString","tweet","game","includes","poll","options","tweetId","voting_status","tuple","split","res","newState","getUpdates","joined","numberPoll","reduce","accumulator","currentResult","currentResults","acc","RankTable","game1","game2","Navbar","fixed","enableDeclineButton","declineButtonText","onAccept","location","reload","onDecline","faGithub","faTwitter","faInstagram","faYoutube","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e288b8d8.chunk.js","sourcesContent":["export const REALTIME_RESULTS = \"https://api.davwheat.dev/fullhistory\";\n/** Default URL used to fetch poll results */\nexport const POLL_RESULT_URL = \"https://api.davwheat.dev/getpolls\";\n/** @returns the URL to fetch results from for the TUbe World Cup for a given year */\nexport function getJSONLinkByYear(year: string) {\n  return {\n    results: process.env.PUBLIC_URL + `/results/${year}/results.json`,\n    history: process.env.PUBLIC_URL + `/results/${year}/fullhistory.json`\n  }\n}\nexport const classes: { [key: string]: string; } = {\n  \"Bakerloo\": \"bakerloo\",\n  \"Northern\": \"northern\",\n  \"Jubilee\": \"jubilee\",\n  \"TfL Rail\": \"tflrail\",\n  \"Central\": \"central\",\n  \"District\": \"district\",\n  \"Circle\": \"circle\",\n  \"Thameslink\": \"thameslink\",\n  \"H&C\": \"handc\",\n  \"Victoria\": \"victoria\",\n  \"Metropolitan\": \"metropolitan\",\n  \"Trams\": \"trams\",\n  \"Overground\": \"overground\",\n  \"CableCar\": \"cablecar\",\n  \"DLR\": \"dlr\",\n  \"Piccadilly\": \"picadilly\",\n  \"???\": \"unknown\",\n};\nexport const tweetNameMap: { [key: string]: string; } = {\n  \"Bakerloo Line\": \"Bakerloo\",\n  \"Northern Line\": \"Northern\",\n  \"Jubilee Line\": \"Jubilee\",\n  \"TfL Rail\": \"TfL Rail\",\n  \"Central Line\": \"Central\",\n  \"District Line\": \"District\",\n  \"Circle Line\": \"Circle\",\n  \"Thameslink\": \"Thameslink\",\n  \"Hammersmith & City Line\": \"H&C\",\n  \"Hammersmith & City\": \"H&C\",\n  \"Victoria Line\": \"Victoria\",\n  \"Metropolitan Line\": \"Metropolitan\",\n  \"Trams\": \"Trams\",\n  \"London Overground\": \"Overground\",\n  \"Cable Car\": \"CableCar\",\n  \"CableCar\": \"CableCar\",\n  \"DLR\": \"DLR\",\n  \"Piccadilly Line\": \"Piccadilly\",\n};\nexport const colours: { [key: string]: string; } = {\n  \"Bakerloo\": \"#B36305\",\n  \"Northern\": \"#000000\",\n  \"Jubilee\": \"#A0A5A9\",\n  \"TfL Rail\": \"rgb(0, 25, 168)\",\n  \"Central\": \"rgb(220, 36, 31)\",\n  \"District\": \"rgb(0, 125, 50)\",\n  \"Circle\": \"rgb(255, 211, 41)\",\n  \"Thameslink\": \"#E9438D\",\n  \"H&C\": \"rgb(244, 169, 190)\",\n  \"Victoria\": \"rgb(0, 152, 216)\",\n  \"Metropolitan\": \"rgb(155, 0, 88)\",\n  \"Trams\": \"rgb(0, 189, 25)\",\n  \"Overground\": \"rgb(239, 123, 16)\",\n  \"CableCar\": \"rgb(220, 36, 31)\",\n  \"DLR\": \"rgb(0, 175, 173)\",\n  \"Piccadilly\": \"rgb(0, 25, 168)\"\n};\nexport const DEVNULL = \"https://devnull-as-a-service.com/dev/null\";\nconst PREFIX = \"https://twitter.www.statshelix.com\";\nconst FULL_PREFIX = PREFIX + \"/api/Tweet/GetTweet?url=\";\nconst pairs = [\n  [\n    \"Bakerloo\",\n    \"Northern\",\n    PREFIX + \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1320637628518223872\",\n    \"false\"\n  ],\n  [\n    \"Jubilee\",\n    \"TfL Rail\",\n    PREFIX + \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1320637979858247680\",\n    \"false\"\n  ],\n  [\n    \"Central\",\n    \"District\",\n    PREFIX + \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1321001660479639552\",\n    \"false\",\n  ],\n  [\n    \"Circle\",\n    \"Thameslink\",\n    PREFIX + \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1321002110801108993\",\n    \"false\",\n  ],\n  [\n    \"H&C\",\n    \"Victoria\",\n    PREFIX + \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1321364991803621376\",\n    \"true\",\n  ],\n  [\n    \"Metropolitan\",\n    \"Trams\",\n    PREFIX + \"/api/Tweet/GetTweet?url=https://twitter.com/geofftech/status/1321365302811217923\",\n    \"true\",\n  ],\n  [\n    \"Overground\",\n    \"CableCar\",\n    DEVNULL,\n    \"false\" // CHANGEME\n  ],\n  [\n    \"DLR\",\n    \"Piccadilly\",\n    DEVNULL,\n    \"false\" // CHANGEME\n  ]\n];\nexport const semifinals = [\n  /*[\n    \"District\",\n    \"Thameslink\",\n    DEVNULL,\n    \"false\",\n    \"Blackfriars\"\n  ],\n  [\n    \"Victoria\",\n    \"Metropolitan\",\n    DEVNULL,\n    \"false\",\n    \"King's Cross\"\n  ],\n  [\n    \"Overground\",\n    \"DLR\",\n    DEVNULL,\n    \"false\",\n    \"Shadwell\"\n  ]\n  [\n    \"Jubilee\",\n    \"Thameslink\",\n    DEVNULL,\n    \"false\",\n    \"West Hampstead\"\n  ],*/\n  [\n    \"Victoria\",\n    \"DLR\",\n    DEVNULL,\n    \"false\",\n    \"Aldwych Disused\"\n  ]\n];\n\nexport const finals = [\n  [\n    \"Thameslink\",\n    \"DLR\",\n    DEVNULL,\n    \"???\",\n    \"???\"\n  ],\n];\nexport const playoff = [\n  [\n    \"Jubilee\",\n    \"Victoria\",\n    DEVNULL,\n    \"???\",\n    \"???\"\n  ],\n];\n\nexport const BLANK_RESULT = {\n  gameName: \"???\",\n  one: {\n    name: \"???\",\n    votes: 0,\n    className: \"unknown\",\n  },\n  two: {\n    name: \"???\",\n    votes: 0,\n    className: \"unknown\",\n  },\n  winner: \"???\",\n  link: undefined,\n  today: true,\n  venue: \"???\",\n}\n\nexport interface StateInfo {\n  gameName: string;\n  one: {\n    name: string;\n    votes: number;\n    className: string;\n  };\n  two: {\n    name: string;\n    votes: number;\n    className: string;\n  };\n  winner: number;\n  link: string;\n  today: boolean;\n  venue?: string;\n}\nexport interface DavidAPI {\n  tweetId: string;\n  game: string;\n  poll: {\n    voting_status: string;\n    end_datetime: string;\n    id: string;\n    duration_minutes: string;\n    options: {\n      position: number;\n      label: string;\n      votes: number;\n    }[];\n  };\n}\nexport interface ResultHistories {\n  gane: string;\n  options: {\n    one: string;\n    two: string;\n  };\n  results: {\n    timestamp: number;\n    votes: {\n      one: number;\n      two: number;\n    };\n  }[];\n}\n","import React, { ReactNode } from \"react\"\nimport { faCheckCircle } from \"@fortawesome/free-solid-svg-icons\"\nimport { Table } from \"react-bootstrap\"\nimport { StateInfo } from \"./constants\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\n\nconst ResultsTable: React.FunctionComponent<{\n\tresults: StateInfo[],\n\tallowVenues?: boolean,\n}> = (props) => {\n\treturn (\n\t\t<Table striped bordered responsive>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Link</th>\n\t\t\t\t\t{props.allowVenues ? <th>Venue</th> : null}\n\t\t\t\t\t<th>Line 1</th>\n\t\t\t\t\t<th>Votes</th>\n\t\t\t\t\t<th>%</th>\n\t\t\t\t\t<th>Line 2</th>\n\t\t\t\t\t<th>Votes</th>\n\t\t\t\t\t<th>%</th>\n\t\t\t\t\t<th>∆</th>\n\t\t\t\t\t<th>Total</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{\n\t\t\t\t\tprops.results.map((result) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><a href={result.link}>View</a></td>\n\t\t\t\t\t\t\t\t{ props.allowVenues ? <td>{result.venue || \"???\"}</td> : null }\n\t\t\t\t\t\t\t\t<td className={result.one.className}>{result.one.name} {result.winner === 1 ? <FontAwesomeIcon icon={faCheckCircle} /> : \"\"}</td>\n\t\t\t\t\t\t\t\t<td>{result.one.votes}</td>\n\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\"backgroundSize\": `100% ${((result.one.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(1)}%`\n\t\t\t\t\t\t\t\t}} className={result.one.className}>{((result.one.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(1)}%</td>\n\t\t\t\t\t\t\t\t<td className={result.two.className}>{result.two.name} {result.winner === 2 ? <FontAwesomeIcon icon={faCheckCircle} /> : \"\"}</td>\n\t\t\t\t\t\t\t\t<td>{result.two.votes}</td>\n\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\"backgroundSize\": `100% ${((result.two.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(1)}%`\n\t\t\t\t\t\t\t\t}} className={result.two.className}>{((result.two.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(1)}%</td>\n\t\t\t\t\t\t\t\t<td>{result.one.votes > result.two.votes ? result.one.votes - result.two.votes : result.two.votes - result.one.votes}</td>\n\t\t\t\t\t\t\t\t<td>{result.one.votes + result.two.votes}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</tbody>\n\t\t</Table>\n\t)\n}\n\nexport default ResultsTable;","import React from \"react\";\nimport { Col, Container, Row, Table } from \"react-bootstrap\";\nimport { VictoryChart, VictoryTheme, VictoryBar, VictoryLabel, VictoryAxis, VictoryLine, VictoryTooltip, VictoryContainer, createContainer } from \"victory\";\nimport { colours, ResultHistories, StateInfo } from \"./constants\";\n\ninterface GraphProps {\n\tresults: StateInfo[],\n\thistory: Record<string, ResultHistories>,\n\tisToday?: boolean,\n\tclose?: boolean,\n\tlong?: boolean,\n}\n\n\nconst VictoryZoomVoronoiContainer = createContainer(\"zoom\", \"voronoi\");\n\nconst LONG_PROP_SCALE_FACTOR = 1.35;\nconst Graphs: React.FunctionComponent<GraphProps> = (props) => {\n\treturn (\n\t\t\t<>\n\t\t\t\t{\n\t\t\t\tprops.results.filter(result => result.today === (props.isToday ?? true)).map((result) => {\n\n\t\t\t\t\t\tconst historydata: ResultHistories = props.history[result.gameName];\n\t\t\t\t\t\tif (typeof historydata === \"undefined\") {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet oneVotes = historydata.results.map((resultHere) => {\n\t\t\t\t\t\t\t//console.log(resultHere.time - historydata.startTime);\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: (resultHere.timestamp - historydata.results[0].timestamp) / 1000 / 60 / 60,\n\t\t\t\t\t\t\t\ty: resultHere.votes.one\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet twoVotes = historydata.results.map((resultHere) => {\n\t\t\t\t\t\t\t//console.log(resultHere.time - historydata.startTime);\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: (resultHere.timestamp - historydata.results[1].timestamp) / 1000 / 60 / 60,\n\t\t\t\t\t\t\t\ty: resultHere.votes.two\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tlet difference = historydata.results.map((resultHere) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: (resultHere.timestamp - historydata.results[1].timestamp) / 1000 / 60 / 60,\n\t\t\t\t\t\t\t\ty: resultHere.votes.one > resultHere.votes.two ? resultHere.votes.one - resultHere.votes.two : resultHere.votes.two - resultHere.votes.one\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t/*let oneVotesPercent = historydata.results.map((resultHere) => {\n\t\t\t\t\t\t//console.log(resultHere.time - historydata.startTime);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tx: (resultHere.timestamp - historydata.results[0].timestamp) / 1000 / 60 / 60,\n\t\t\t\t\t\t\ty: ((resultHere.votes.one / (resultHere.votes.one + resultHere.votes.two)) * 100) || 0\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tlet twoVotesPercent = historydata.results.map((resultHere) => {\n\t\t\t\t\t\t//console.log(resultHere.time - historydata.startTime);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tx: (resultHere.timestamp - historydata.results[1].timestamp) / 1000 / 60 / 60,\n\t\t\t\t\t\t\ty: ((resultHere.votes.two / (resultHere.votes.one + resultHere.votes.two)) * 100) || 0\n\t\t\t\t\t\t}\n\t\t\t\t\t});*/\n\n\t\t\t\t\t\t//console.log(result.one.name);\n\t\t\t\t\t\t//console.log(result.two.name);\n\t\t\t\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Col sm md lg>\n\t\t\t\t\t\t\t\t\t<VictoryChart\n\t\t\t\t\t\t\t\t\t\thorizontal={true}\n\t\t\t\t\t\t\t\t\t\tdomainPadding={{ x: 100 }}\n\t\t\t\t\t\t\t\t\t\tcategories={{ x: [result.one.name, result.two.name] }}\n\t\t\t\t\t\t\t\t\t\theight={350}\n\t\t\t\t\t\t\t\t\t\twidth={props.long ? 500 * LONG_PROP_SCALE_FACTOR : 500}\n\t\t\t\t\t\t\t\t\t\tpadding={{\n\t\t\t\t\t\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\t\t\t\t\t\tbottom: 80,\n\t\t\t\t\t\t\t\t\t\t\tright: 10,\n\t\t\t\t\t\t\t\t\t\t\tleft: 10\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<VictoryAxis\n\t\t\t\t\t\t\t\t\t\t\tdependentAxis\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Votes\"\n\t\t\t\t\t\t\t\t\t\t\tfixLabelOverlap\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\taxis: { stroke: \"#756f6a\" },\n\t\t\t\t\t\t\t\t\t\t\t\taxisLabel: { fontSize: 30, padding: 40 },\n\t\t\t\t\t\t\t\t\t\t\t\ttickLabels: { fontSize: 20, padding: 5 },\n\t\t\t\t\t\t\t\t\t\t\t\tgrid: { stroke: \"grey\" },\n\t\t\t\t\t\t\t\t\t\t\t\tticks: { stroke: \"grey\" },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<VictoryBar\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tdata: { fill: ({datum}) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//console.log(datum.xName);\n\t\t\t\t\t\t\t\t\t\t\t\t\t//console.log(colours[datum.xName]);\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn colours[datum.xName];\n\t\t\t\t\t\t\t\t\t\t\t\t}, width: 60 }, labels: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill: \"#ffffff\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 30,\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\talignment=\"middle\"\n\t\t\t\t\t\t\t\t\t\t\tlabels={({ datum }) => `${datum.x}`}\n\t\t\t\t\t\t\t\t\t\t\tlabelComponent={<VictoryLabel textAnchor={\"end\"} dx={-20} />}\n\t\t\t\t\t\t\t\t\t\t\tdata={[\n\t\t\t\t\t\t\t\t\t\t\t\t{ y: result.one.votes, x: result.one.name },\n\t\t\t\t\t\t\t\t\t\t\t\t{ y: result.two.votes, x: result.two.name }\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<VictoryAxis\n\t\t\t\t\t\t\t\t\t\t\tfixLabelOverlap\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\taxis: { stroke: \"#756f6a\" },\n\t\t\t\t\t\t\t\t\t\t\t\taxisLabel: { fontSize: 0, padding: 0 },\n\t\t\t\t\t\t\t\t\t\t\t\ttickLabels: { fontSize: 0, padding: 0 },\n\t\t\t\t\t\t\t\t\t\t\t\tgrid: { stroke: \"grey\", strokeWidth: 0 },\n\t\t\t\t\t\t\t\t\t\t\t\tticks: { strokeWidth: 0 },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</VictoryChart>\n\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t{/*BEGIN LINES */}\n\t\t\t\t\t\t\t\t<Col sm md lg>\n\t\t\t\t\t\t\t\t\t<VictoryChart\n\t\t\t\t\t\t\t\t\t\ttheme={VictoryTheme.material}\n\t\t\t\t\t\t\t\t\t\theight={350 * 1.5 - 50}\n\t\t\t\t\t\t\t\t\t\twidth={props.long ? 750 * LONG_PROP_SCALE_FACTOR : 750}\n\t\t\t\t\t\t\t\t\t\tdomainPadding={{ y: 100 }}\n\t\t\t\t\t\t\t\t\t\tpadding={{\n\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\tbottom: 80,\n\t\t\t\t\t\t\t\t\t\t\tleft: 100\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcontainerComponent={\n\t\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\t\t<VictoryZoomVoronoiContainer voronoiDimension=\"x\"\n\t\t\t\t\t\t\t\t\t\t\t\tradius={100000}\n\t\t\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\t\t\tlabels={({ datum }) => `${datum.y}`}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelComponent={<VictoryTooltip cornerRadius={0} flyoutStyle={{ fill: \"white\", fontSize: 20 }} />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<VictoryAxis\n\t\t\t\t\t\t\t\t\t\t\tdependentAxis\n\t\t\t\t\t\t\t\t\t\t\tkey={0}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Votes\"\n\t\t\t\t\t\t\t\t\t\t\tfixLabelOverlap\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\taxis: { stroke: \"#756f6a\" },\n\t\t\t\t\t\t\t\t\t\t\t\taxisLabel: { fontSize: 20, padding: 70 },\n\t\t\t\t\t\t\t\t\t\t\t\ttickLabels: { fontSize: 20, padding: 5 },\n\t\t\t\t\t\t\t\t\t\t\t\tgrid: { stroke: \"grey\" },\n\t\t\t\t\t\t\t\t\t\t\t\tticks: { stroke: \"grey\" },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<VictoryAxis\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Time (hrs)\"\n\t\t\t\t\t\t\t\t\t\t\tfixLabelOverlap\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\taxis: { stroke: \"#756f6a\" },\n\t\t\t\t\t\t\t\t\t\t\t\taxisLabel: { fontSize: 20, padding: 40 },\n\t\t\t\t\t\t\t\t\t\t\t\ttickLabels: { fontSize: 20, padding: 5 },\n\t\t\t\t\t\t\t\t\t\t\t\tgrid: { stroke: \"grey\" },\n\t\t\t\t\t\t\t\t\t\t\t\tticks: { stroke: \"grey\" },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{/* If Picadilly and DLR, PLOT */}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tresult.one.name === \"DLR\" && result.two.name === \"Piccadilly\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t// DLR\n\t\t\t\t\t\t\t\t\t\t\t\t<VictoryLine\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={result.one.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: { stroke: colours[\"DLR\"], strokeWidth: props.close ? 2 : 4 },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparent: { border: \"1px solid #ccc\" },\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: 1711\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: (twoVotes[twoVotes.length - 1] || { x: 0 }).x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: 1711\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tresult.one.name === \"DLR\" && result.two.name === \"Piccadilly\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t// DLR\n\t\t\t\t\t\t\t\t\t\t\t\t<VictoryLine\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: { stroke: colours[\"Piccadilly\"], strokeWidth: 3 },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparent: { border: \"1px solid #ccc\" }\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: 1882\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: (twoVotes[twoVotes.length - 1] || { x: 0 }).x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: 1882\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t<VictoryLine\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tdata: { stroke: \"rgb(65, 75, 86)\", strokeWidth: 2 },\n\t\t\t\t\t\t\t\t\t\t\t\tparent: { border: \"1px solid #ccc\" },\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdata={difference}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<VictoryLine\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tdata: { stroke: colours[result.one.name], strokeWidth: props.close ? 2.5 : 4 },\n\t\t\t\t\t\t\t\t\t\t\t\tparent: { border: \"1px solid #ccc\" },\n\t\t\t\t\t\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colours[result.one.name]\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdata={oneVotes}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<VictoryLine\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tdata: { stroke: colours[result.two.name], strokeWidth: props.close ? 2.5 : 4 },\n\t\t\t\t\t\t\t\t\t\t\t\tparent: { border: \"1px solid #ccc\" },\n\t\t\t\t\t\t\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill: colours[result.two.name]\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdata={twoVotes}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</VictoryChart>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</>\n\t)\n}\n\nexport default Graphs;","import React, { ReactNode } from \"react\";\nimport { faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { StateInfo } from \"./constants\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Col, Container, Row, Table } from \"react-bootstrap\";\n\n\nconst ResultsTableCompact: React.FunctionComponent<{\n\tresults: StateInfo[],\n\tallowVenues?: boolean,\n\tclose?: boolean,\n}> = (props) => {\n\n\tconst PERCENT_DP = props.close ? 2 : 1;\n\n\treturn (\n\t\t<Container>\n\t\t\t{\n\t\t\t\tprops.results.map((result) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t<Row className=\"align-items-center\">\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Table striped bordered responsive>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Line</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Votes</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>%</th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className={result.one.className}>{result.one.name} {result.winner === 1 ? <FontAwesomeIcon icon={faCheckCircle} /> : \"\"}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{result.one.votes}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"backgroundSize\": `100% ${((result.one.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(PERCENT_DP)}%`\n\t\t\t\t\t\t\t\t\t\t\t\t}} className={result.one.className}>{((result.one.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(PERCENT_DP)}%</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className={result.two.className}>{result.two.name} {result.winner === 2 ? <FontAwesomeIcon icon={faCheckCircle} /> : \"\"}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{result.two.votes}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"backgroundSize\": `100% ${((result.two.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(PERCENT_DP)}%`\n\t\t\t\t\t\t\t\t\t\t\t\t}} className={result.two.className}>{((result.two.votes / (result.one.votes + result.two.votes) * 100) || 0).toFixed(PERCENT_DP)}%</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col lg={2} className={\"compact-headers\"}>\n\t\t\t\t\t\t\t\t\t<h6 className={\"align-middle\"}>\n\t\t\t\t\t\t\t\t\tVenue: {result.venue}<br />\n\t\t\t\t\t\t\t\t\tDifference: {result.one.votes > result.two.votes ? result.one.votes - result.two.votes : result.two.votes - result.one.votes}<br />\n                \tTotal: {result.one.votes + result.two.votes}<br />\n                \tVote here: <a href={result.link}>Link</a>\n\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t</Container>\n\t)\n}\n\nexport default ResultsTableCompact;","// Set to the same value as the web property used on the site\nexport const GA_PROPERTY = 'G-D3GT5HVZRG';\n\n// Disable tracking if the opt-out cookie exists.\nexport const GA_DISABLE_COOKIE_STR = 'ga-disable-' + GA_PROPERTY;\n/*if (document.cookie.indexOf(disableStr + '=true') > -1) {\n\t// @ts-ignore\n\twindow[disableStr] = true;\n}*/\n\n// Opt-out function\n/** Use true to opt out */\nexport default function gaSetState(state: boolean): void {\n\tdocument.cookie = GA_DISABLE_COOKIE_STR + `=${state ? \"true\" : \"false\"}; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/`;\n\t// @ts-ignore\n\twindow[GA_DISABLE_COOKIE_STR] = state;\n}\n","import React from \"react\";\nimport { Container, Table } from \"react-bootstrap\";\nimport { StateInfo } from \"./constants\";\n\n\nconst RankingTableEntry: React.FunctionComponent<{ result: StateInfo, index: 0 | 1, actualRank: 1 | 2 | 3 | 4 }> = (props)=> {\n\tconst resultHere = props.index === 0 ? props.result.one : props.result.two;\n\tconst other = props.index === 0 ? props.result.two : props.result.one;\n\treturn (\n\t\t<tr>\n\t\t\t<td className={resultHere.className}>{props.actualRank}</td>\n\t\t\t<td className={resultHere.className}>{resultHere.name}</td>\n\t\t\t<td className={resultHere.className}>{resultHere.votes}</td>\n\t\t\t<td className={resultHere.className}>{((resultHere.votes / (resultHere.votes + other.votes) * 100) || 0).toFixed(2)}%</td>\n\t\t</tr>\n\t)\n}\n\nconst FinalRanking: React.FunctionComponent<{ playoff: StateInfo, final: StateInfo }> = (props) => {\n\tconsole.log(props);\n\treturn (\n\t\t<Container>\n\t\t<Table striped bordered responsive>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Rank</th>\n\t\t\t\t\t<th>Line</th>\n\t\t\t\t\t<th>Votes</th>\n\t\t\t\t\t<th>%</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<RankingTableEntry actualRank={1} result={props.final} index={props.final.one.votes > props.final.two.votes ? 0 : 1} />\n\t\t\t\t<RankingTableEntry actualRank={2} result={props.final} index={props.final.one.votes > props.final.two.votes ? 1 : 0} />\n\t\t\t\t<RankingTableEntry actualRank={3} result={props.playoff} index={props.playoff.one.votes > props.playoff.two.votes ? 0 : 1} />\n\t\t\t\t<RankingTableEntry actualRank={4} result={props.playoff} index={props.playoff.one.votes > props.playoff.two.votes ? 1 : 0} />\n\t\t\t</tbody>\n\t\t</Table>\n\t\t</Container>\n\t)\n}\n\nexport default FinalRanking;","import React, { Component } from \"react\";\nimport './App.css';\nimport { Col, Container, Row, Table, Navbar } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGithub, faInstagram, faTwitter, faYoutube } from \"@fortawesome/free-brands-svg-icons\";\nimport { StateInfo, ResultHistories, REALTIME_RESULTS, DavidAPI, tweetNameMap, classes, DEVNULL, semifinals, playoff, finals, BLANK_RESULT, POLL_RESULT_URL, getJSONLinkByYear } from \"./constants\";\nimport ResultsTable from \"./ResultsTable\";\nimport Graphs from \"./Graphs\";\nimport ResultsTableCompact from \"./ResultsTableCompact\";\nimport CookieConsent from \"react-cookie-consent\";\nimport gaSetState, { GA_DISABLE_COOKIE_STR, GA_PROPERTY } from \"./gaAnlalystics\";\nimport RankTable from \"./RankTable\";\n\nconst venueMap: { [key: string]: string } = {\n  \"quartera1\": \"Waterloo\",\n  \"quartera2\": \"Blackfriars\",\n  \"quarterb1\": \"King's Cross\",\n  \"quarterb2\": \"Shadwell\",\n  \"semia1\": \"West Hampstead\",\n  \"semib1\": \"Aldwych Disused\",\n  \"final\": \"Greenwich\",\n  \"playoff\": \"Green Park\"\n}\n\nconst venueQuoteMap: Record<string, string> = {\n  \"Waterloo\": \"BREAKING: A reporter for the Geoff Broadcasting Corporation (GBC), at Waterloo, has informed us that \\\"a socially distanced crowd wearing face coverings has turned up at the Waterloo ticket hall concourse to see this highly anticipated match\\\"\",\n  //\"Greenwich\": \"BREAKING: Joe-Wheatley pollsters, runners of this site, have decided as of 14:30 today to call (project) the winner as the DLR.\"\n  \"Greenwich\": \"BREAKING: At 14:30, Joe-Wheatley polls (who run this site) projected DLR as the winner, with >200 votes between them.  As of 23:00, after a huge spike in Thameslink votes, with 500 votes between them and 6 hrs until polls close, we are now calling this for Thameslink.\"\n}\n\nclass App extends Component<any, {\n  resultsKnockout: StateInfo[],\n  resultsQFinals: StateInfo[],\n  resultsSemiFinals: StateInfo[],\n  resultsFinals: StateInfo[],\n  resultsPlayoff: StateInfo[],\n  resultsLoosers: StateInfo[],\n  resultsHistories: Record<string, ResultHistories>,\n  pairedPastGames: Array<[StateInfo, StateInfo | undefined]>,\n  totalVotes: number,\n  meanVotes: number,\n  pairedPastGamesQFinals: Array<[StateInfo, StateInfo | undefined]>,\n}> {\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      resultsKnockout: [],\n      resultsQFinals: [],\n      resultsHistories: {},\n      pairedPastGames: [],\n      pairedPastGamesQFinals: [],\n      resultsSemiFinals: [],\n      resultsFinals: [],\n      resultsPlayoff: [],\n      resultsLoosers: [],\n      totalVotes: 0,\n      meanVotes: 0,\n    }\n  }\n\n  async updateHistory() {\n    //console.log(\"FITOWRST\");\n    // NOTE: Revert back to using REALTIME_RESULTS next year\n    //const history = await fetch(REALTIME_RESULTS);\n    const history = await fetch(getJSONLinkByYear(\"2020\").history);\n    this.setState({\n      resultsHistories: (await history.json())\n    })\n\n    // Update pairs\n    // Generate past games\n    let pairedPastGames: Array<[StateInfo, StateInfo]> = [];\n    const filtered = [...this.state.resultsKnockout].filter(result => !result.today && typeof result.link !== \"undefined\");\n    filtered.forEach((result, index) => {\n      if ((index % 2) === 0) {\n        pairedPastGames.push([\n          result,\n          filtered[index + 1],\n        ])\n      }\n    });\n\n    let pairedPastGamesQFinals: Array<[StateInfo, StateInfo]> = [];\n    const filteredQFinals = [...this.state.resultsQFinals].filter(result => !result.today && typeof result.link !== \"undefined\");\n    filteredQFinals.forEach((result, index) => {\n      if ((index % 2) === 0) {\n        pairedPastGamesQFinals.push([\n          result,\n          filteredQFinals[index + 1],\n        ])\n      }\n    });\n    //console.log(pairedPastGames);\n    this.setState({\n      pairedPastGames,\n      pairedPastGamesQFinals\n    });\n  }\n\n  setGaAnalytics() {\n    /*if (document.cookie.indexOf(`${GA_DISABLE_COOKIE_STR}=false`) > -1) {\n      console.log(\"Set GA\");\n      // @ts-ignore\n      window.dataLayer = window.dataLayer || [];\n      // @ts-ignore\n      const gtag = (arg1: any, arg2: any) => { window.dataLayer.push([arg1, arg2]); }\n      gtag('js', new Date());\n      gtag('config', GA_PROPERTY);\n    }*/\n  }\n\n  componentWillMount() {\n    // Disable GA tracking\n    this.setGaAnalytics();\n  }\n\n  componentDidMount() {\n    this.updateResults();\n    this.updateHistory();\n    // NOTE: For next year readd these\n    const bound = this.updateResults.bind(this);\n    //setInterval(() => bound(), 60000);\n\n    const boundHist = this.updateHistory.bind(this);\n\n    //setInterval(() => boundHist(), 60000)\n  }\n\n  getUpdates(resJSON: DavidAPI[], gameString: string): StateInfo[] {\n    // NEW API\n    const filtered =  resJSON.filter((tweet: DavidAPI) => tweet.game.includes(gameString)).map((tweet: DavidAPI): StateInfo => {\n      console.log(tweetNameMap[tweet.poll.options[0].label])\n      return {\n        gameName: tweet.game,\n        one: {\n          name: tweetNameMap[tweet.poll.options[0].label] || \"???\",\n          votes: tweet.poll.options[0].votes,\n          className: classes[tweetNameMap[tweet.poll.options[0].label] || \"???\"]\n        },\n        two: {\n          name: tweetNameMap[tweet.poll.options[1].label] || \"???\",\n          votes: tweet.poll.options[1].votes,\n          className: classes[tweetNameMap[tweet.poll.options[1].label] || \"???\"]\n        },\n        winner: (\n          tweet.poll.options[0].votes > tweet.poll.options[1].votes ? 1 : 2\n        ),\n        link: \"https://twitter.com/geofftech/status/\" + tweet.tweetId,\n        today: tweet.poll.voting_status === \"open\" ? true : false,\n        venue: venueMap[tweet.game] || \"???\",\n      }\n    });\n    console.log(\"getUpdates DONE\");\n    return filtered;\n  }\n\n  /**\n   * Kept around because we need it for pending \n   * @deprecated\n   */\n  getUpdatesOld(tuple: string[]): StateInfo {\n    return {\n      gameName: \"unknown\",\n      one: {\n        name: tuple[0],\n        votes: 0,\n        className: classes[tuple[0]]\n      },\n      two: {\n        name: tuple[1],\n        votes: 0,\n        className: classes[tuple[1]]\n      },\n      winner: 0,\n      link: tuple[2].split(\"url=\")[1],\n      today: tuple[3] === \"true\" ? true : false,\n      venue: tuple[4],\n    }\n    /*let one: number = 0;\n    let two: number = 0;\n    let winner: number = 0;\n    try {\n      if (tuple[2] !== DEVNULL) {\n        // Can get it\n        const res = await fetch(tuple[2]);\n\n        const resBody = await res.text();\n        // Assume pairs in correct order\n        const splitted = resBody.split(\"\\n\");\n        const oneHere = splitted[0].match(/^\\d+|\\d+\\b|\\d+(?=\\w)/g) || [\"0\"];\n        one = parseInt(oneHere[0], 10);\n        if (oneHere.length > 1 && oneHere[1] === \"1\") {\n          winner = 1;\n        }\n\n        const twoHere = splitted[1].match(/^\\d+|\\d+\\b|\\d+(?=\\w)/g) || [\"0\"];\n        two = parseInt(twoHere[0], 10);\n        if (twoHere.length > 1 && twoHere[1] === \"1\") {\n          winner = 2;\n        }\n      } else {\n        console.log(\"DEVNULL\");\n      }\n    } catch (err) {\n      console.log(err.stack);\n    } finally {\n      return {\n        gameName: \"unknown\",\n        one: {\n          name: tuple[0],\n          votes: one,\n          className: classes[tuple[0]]\n        },\n        two: {\n          name: tuple[1],\n          votes: two,\n          className: classes[tuple[1]]\n        },\n        winner,\n        link: tuple[2].split(\"url=\")[1],\n        today: tuple[3] === \"true\" ? true : false,\n        venue: tuple[4],\n      }\n    }*/\n  }\n\n  async updateResults() {\n    //const newPairs: Promise<StateInfo>[] = pairs.map(this.getUpdates);\n    console.log(\"UPDATING\");\n\n    // FETCH!\n    // NOTE: Readd the below line next year\n    /*const res = await fetch(POLL_RESULT_URL);\n    const resJSON = await res.json();*/\n\n    // 2020 results\n    // NOTE: Comment out this line next year.\n    const res = await fetch(getJSONLinkByYear(\"2020\").results);\n    const resJSON = await res.json();\n\n    //const newsemiFinals: StateInfo[] = [/*this.getUpdatesOld(semifinals[0]), */this.getUpdatesOld(semifinals[0])];\n\n    //const newFinals: StateInfo[] = [this.getUpdatesOld(finals[0])];\n\n    //const newPlayoff: StateInfo[] = [this.getUpdatesOld(playoff[0])];\n    //const newsemiFinals = [];\n    //const newFinals = [];\n    //const newPlayoff = [];\n\n    const newState = {\n      resultsKnockout: this.getUpdates(resJSON, \"knockout\"),\n      resultsQFinals: this.getUpdates(resJSON, \"quarter\"),\n      resultsSemiFinals: [\n        ...this.getUpdates(resJSON, \"semi\") /*...this.getUpdates(resJSON, \"unknown\")*/\n      ],\n      resultsFinals: [\n        ...this.getUpdates(resJSON, \"final\"), /* ...this.getUpdates(resJSON, \"unknown\"), */ /*...newFinals*/\n      ],\n      resultsPlayoff: [\n        ...this.getUpdates(resJSON, \"playoff\"), /*...this.getUpdates(resJSON, \"unknown\"),  ...newPlayoff*/\n      ],\n      resultsLoosers: [\n        ...this.getUpdates(resJSON, \"mini\"), ...this.getUpdates(resJSON, \"unknown\"),\n      ]\n    }\n\n    console.log(\"Setting state...\");\n\n    this.setState(newState);\n\n    console.log(\"DONE\");\n\n    // Calculation!\n    // Join by ref to prevent mass memeory copy\n    const joined = [\n      this.state.resultsKnockout,\n      this.state.resultsQFinals,\n      this.state.resultsSemiFinals,\n      this.state.resultsFinals,\n      this.state.resultsPlayoff,\n      // this.state.resultsLoosers,\n    ];\n    const numberPoll = joined.reduce((accumulator, currentResult) => accumulator + currentResult.length, 0);\n    const totalVotes = joined.reduce(\n      (accumulator, currentResults) => accumulator + currentResults.reduce((acc, currentResult) => currentResult.one.votes + currentResult.two.votes, 0),\n      0\n    );\n\n    this.setState({\n      totalVotes: totalVotes,\n      meanVotes: (totalVotes / numberPoll),\n    });\n  }\n\n  /*getSpaceRatio() {\n    return (screen.availWidth - (window.outerWidth - window.innerWidth)) / (screen.availHeight - (window.outerHeight - window.innerHeight));\n  }*/\n\n  render() {\n\n    return (\n      <div className=\"App\">\n        <div className=\"header\">\n          <h1><b>Tube Lines World Cup</b></h1>\n          <h5>Updated every 60 secs. Please view in landscape.</h5>\n          <h6>Note: if no votes are showing, the API this site uses has gone down and should be back up in a few mins.</h6>\n        </div>\n\n        <h2><b>2020 Results</b></h2>\n\n        <Container className=\"quotedReport\">\n          <h5>A message from @official_gumjoe:</h5>\n          <h5 className=\"text-left\">\n            Thanks to everyone who helped make this site, from @davwheat_ for the API, @_FlaiFlai for the original API (which sparked me to create this site) and of course to all the members of the community who contributed ideas!\n            <br />And thanks to Geoff for putting on the Tube World Cup, and for providing the opportunity for us devs to come together to add to the experience! It's been a great 2 weeks, and I look forward to next year, where the site will return!\n          </h5>\n        </Container>\n\n        <h2>Final rankings:</h2>\n        <RankTable final={this.state.resultsFinals[0] || BLANK_RESULT} playoff={this.state.resultsPlayoff[0] || BLANK_RESULT} />\n\n        {/* NOTE: UNCOMMENT FOR NEXT YEAR\n        <h3>Today's games:</h3>\n        <h6>Straight lines represent votes in the same match from previous years.</h6>\n        <h6>Thin grey lines represent the difference between options.</h6>\n\n        { this.state.resultsFinals.filter(result => result.today).map(result => {\n          if (typeof result.venue !== \"undefined\" && typeof venueQuoteMap[result.venue] !== \"undefined\") {\n            return (\n              <Container className=\"quotedReport\">\n                <h5>{venueQuoteMap[result.venue]}</h5>\n              </Container>\n            )\n          } else {\n            return null;\n          }\n        })}\n\n        <Container>\n          <Row>\n            <Graphs results={this.state.resultsLoosers} history={this.state.resultsHistories} />\n          </Row>\n      </Container>*/}\n\n\n        <Container>\n          <Row>\n            <Col>\n              <h3>2020 Stats</h3>\n              Total Votes Cast: {this.state.totalVotes}<br/>\n              Mean votes per poll: {this.state.meanVotes.toFixed(0)}<br />\n              Maximum votes cast in one poll (the final): {typeof this.state.resultsFinals[0] !== \"undefined\" ? this.state.resultsFinals[0].one.votes + this.state.resultsFinals[0].two.votes : 0}<br />\n              Total unique users of this site on the days of the final: 676<br />\n              Total views on the day of the final for this site: 3.3K<br />\n              <a href=\"https://twitter.com/geofftech/status/1325375626681995265\">Click here to view the official Wallchart from Geoff!</a><br /> \n              <br /> \n            </Col>\n          </Row>\n        </Container>\n\n        <h3><b>The Final</b></h3>\n        <ResultsTableCompact close results={this.state.resultsFinals} allowVenues />\n        { /*<ResultsTable results={this.state.resultsFinals} allowVenues />*/}\n        <Container>\n          <h3>How the Final played out</h3>\n          <ul className=\"text-left\">\n            <li>The final ran over 2 days!</li>\n            <li>Even Thameslink and the DLR themselves got involved, telling people through information boards in stations and using the PA system to vote.</li>\n            <li>Throughout the first day, it was neck and neck.</li>\n            <li>The line with the lead flipped several times throughout the day, with the number of votes for each equal at times!</li>\n            <li>The difference between the two lines never exceeded 100 votes on the first day!</li>\n            <li>Towards the end of the day, the DLR had the lead, but towards the late hours of the evening Thameslink took a slender lead, which continued into the morning!</li>\n            <li>At the beginning of the 2nd day, the DLR took a slim lead</li>\n            <li>This grew to 200 votes, and at 14:30 Joe-Wheatley pollsters, runners of this site, decided to call (project) the winner as the DLR.</li>\n            <li>Yet, a late afternoon/evening push from Thameslink closed the gap, but Thameslink did not overtake the DLR.</li>\n            <li>The DLR was still the projected winner - that was, until an unexpected surge of 600 Thameslink votes came in, putting Thameslink well into the lead.</li>\n            <li>At 23:00, with 500 votes between Thameslink and the DLR and 6 hours until polls closed, Joe-Wheatley pollsters called Thameslink as the winner.  This was the eventual, final result</li>\n            <li>By 5am in the morning, when the polls closed, Thameslink was the final winner by 572 votes.</li>\n            <li>Overall, 19790 votes were cast, the most for any match and ~2.3x that cast in the 2019 final!</li>\n            <li><a href=\"https://twitter.com/official_gumjoe/status/1324999160706330626\">You can view @official_gumjoe's Twitter megathread for the 2nd day here</a></li>\n          </ul>\n        </Container>\n\n        <h4>How the votes changed as the day progressed:</h4>\n        <Container>\n          <Row>\n            <Graphs close results={this.state.resultsFinals} history={this.state.resultsHistories} isToday={false}/>\n          </Row>\n        </Container>\n\n\n        <h3>3rd/4th Playoff:</h3>\n        <ResultsTableCompact results={this.state.resultsPlayoff} allowVenues />\n        <Container>\n          <Row>\n            <Graphs close results={this.state.resultsPlayoff} history={this.state.resultsHistories} isToday={false} />\n          </Row>\n        </Container>\n\n        <h3>Bonus Losers Mini Tournament!</h3>\n        <ResultsTable results={this.state.resultsLoosers} />\n        {/*<Container>\n          <Row>\n            <Graphs results={this.state.resultsLoosers} history={this.state.resultsHistories} isToday={false} />\n          </Row>\n        </Container>*/}\n        \n        <h3>Semifinals Results:</h3>\n        <ResultsTable results={this.state.resultsSemiFinals} allowVenues />\n        <Container>\n          <Row>\n            <Graphs close results={this.state.resultsSemiFinals} history={this.state.resultsHistories} isToday={false} />\n          </Row>\n        </Container>\n\n        <h3>Quarterfinal Results:</h3>\n        <ResultsTable results={this.state.resultsQFinals} allowVenues />\n        <Container>\n          {\n            this.state.pairedPastGamesQFinals.map(([game1, game2]) => {\n              //console.log(game1);\n              return (\n                <Row>\n                  <Graphs results={typeof game2 !== \"undefined\" ? [game1, game2] : [game1]} history={this.state.resultsHistories} isToday={false} />\n                </Row>)\n            })\n          }\n        </Container>\n\n        <h3>Knockout stage results:</h3>\n        <ResultsTable results={this.state.resultsKnockout} />\n        <Container>\n            {\n             this.state.pairedPastGames.map(([game1, game2]) => {\n               //console.log(game1);\n               return (\n               <Row>\n                   <Graphs results={typeof game2 !== \"undefined\" ? [game1, game2] : [game1]} history={this.state.resultsHistories} isToday={false} />\n               </Row>)\n             })\n            }\n        </Container>\n\n        {/* Cookie stuff */}\n        <Navbar fixed=\"bottom\">\n          <CookieConsent\n            enableDeclineButton\n            declineButtonText=\"No thanks\"\n            onAccept={\n              () => { gaSetState(false); window.location.reload(); }\n            }\n            onDecline={\n              () => { gaSetState(true); window.location.reload(); }\n            }\n          >\n            This website uses cookies (via Google Analytics) for analytics.\n            <a href={process.env.PUBLIC_URL + \"/privacy.html\"}>View Privacy Policy</a>\n          </CookieConsent>\n        </Navbar>\n\n        <footer>\n          <Container>\n            Created by @k_sam_mighty for <a href=\"https://twitter.com/geofftech\">Geoff Marshall's</a> World Cup of Tube Lines.<br/>\n            Find me (@k_sam_mighty) here:<br />\n            <a href=\"https://github.com/Gum-Joe\"><FontAwesomeIcon icon={faGithub} /> Gum-Joe</a> <br />\n            <a href=\"https://twitter.com/official_gumjoe\"><FontAwesomeIcon icon={faTwitter} /> @official_gumjoe</a> <br />\n            <a href=\"https://www.instagram.com/k_sam_mighty\"><FontAwesomeIcon icon={faInstagram} /> @k_sam_mighty</a> <br />\n            <a href=\"https://www.youtube.com/channel/UCIwdVs7v-WL7_5erRzNv6sw\"><FontAwesomeIcon icon={faYoutube} /> Gum Joe</a>\n            <br />Special thanks to <a href=\"https://github.com/davwheat\">@davwheat</a> for the API, and <a href=\"https://twitter.com/_FlaiFlai\">@_FlaiFlai</a> for the original API.\n            <br />Thank you to all the memebers of the community who contributed ideas!\n            <br /><a href={process.env.PUBLIC_URL + \"/privacy.html\"}>View Privacy Policy</a>\n          </Container>\n        </footer>\n\n      </div>\n    );\n  }\n}\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}